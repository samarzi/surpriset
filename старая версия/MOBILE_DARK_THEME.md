# Принудительная темная тема для мобильной версии

## Описание изменений

В мобильной версии приложения (Telegram WebApp) теперь используется только темная тема без возможности переключения.

## Реализованные изменения

### 1. ThemeContext (`src/contexts/ThemeContext.tsx`)

- Добавлена проверка запуска в Telegram WebApp
- При запуске в Telegram принудительно устанавливается темная тема
- Игнорируются настройки из localStorage и системные настройки
- Блокируется возможность изменения темы через `setTheme` в мобильной версии
- Добавлено поле `isTelegram` в контекст для определения окружения

### 2. ThemeToggle (`src/components/ui/theme-toggle.tsx`)

- Компонент не отображается в Telegram WebApp (возвращает `null`)
- В десктопной версии работает как прежде

## Поведение

### Мобильная версия (Telegram WebApp)
- ✅ Всегда темная тема
- ✅ Переключатель темы скрыт
- ✅ Игнорируются настройки пользователя
- ✅ Нет мерцания при загрузке

### Десктопная версия (браузер)
- ✅ Полная функциональность переключения темы
- ✅ Сохранение выбора в localStorage
- ✅ Поддержка системной темы
- ✅ Переключатель видим и работает

## Технические детали

```typescript
// Определение окружения
const isTelegram = !!getTelegramWebApp()

// Принудительная темная тема в Telegram
const theme = isTelegram ? 'dark' : userTheme

// Блокировка изменения темы в Telegram
setTheme: (newTheme: Theme) => {
  if (isTelegram) return // Игнорируем в Telegram
  // ... обычная логика
}
```

## Тестирование

### Проверка в Telegram
1. Открыть приложение в Telegram
2. Убедиться, что тема темная
3. Убедиться, что переключатель темы не отображается
4. Проверить все страницы на согласованность темы

### Проверка в браузере
1. Открыть приложение в браузере
2. Убедиться, что переключатель темы виден
3. Проверить переключение между темами
4. Убедиться, что выбор сохраняется

## Совместимость

- ✅ Обратная совместимость с существующим кодом
- ✅ Не требует изменений в компонентах
- ✅ Прозрачно для остальной части приложения
- ✅ Сборка проходит успешно

## Файлы изменены

1. `src/contexts/ThemeContext.tsx` - логика принудительной темной темы
2. `src/components/ui/theme-toggle.tsx` - скрытие переключателя в мобильной версии
