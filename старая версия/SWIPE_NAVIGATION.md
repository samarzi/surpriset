# Свайп-навигация и управление баннерами

## Реализованные изменения

### 1. Разрешены горизонтальные свайпы для баннеров

**Добавлено:**
- Атрибут `data-carousel="true"` для секции баннеров
- Атрибут `data-swipeable="true"` для контейнера баннеров
- Логика определения свайпов внутри карусели

**Как работает:**
```typescript
const isInCarousel = target && (
  target.closest('[data-carousel="true"]') || 
  target.closest('.banner-carousel') ||
  target.closest('[data-swipeable="true"]')
)

if (isInCarousel) {
  return // Разрешаем свайп для карусели
}
```

### 2. Разрешена навигация назад свайпом (как на iPhone)

**Добавлено:**
- Определение свайпа с левого края экрана
- Разрешение свайпа вправо для возврата на предыдущую страницу

**Как работает:**
```typescript
// Определяем свайп с левого края
isSwipeFromEdge = startX < 20

// Разрешаем свайп назад
if (isSwipeFromEdge && deltaX > deltaY && deltaX > 50 && currentX > startX) {
  return // Разрешаем свайп назад
}
```

### 3. Блокировка выхода из приложения

**Сохранено:**
- Блокировка свайпа с правого края (выход из Telegram)

**Как работает:**
```typescript
// Блокируем только свайпы с правого края
if (startX > window.innerWidth - 20 && deltaX > deltaY && deltaX > 30) {
  e.preventDefault()
  return false
}
```

### 4. Опущена нижняя навигация

**Изменено:**
```css
.mobile-nav-container {
  padding: 0.75rem 1rem 2.5rem 1rem;
  padding-bottom: max(2.5rem, calc(env(safe-area-inset-bottom) + 1rem));
}
```

Нижняя навигация теперь находится выше от нижнего края экрана.

## Поведение свайпов

### ✅ Разрешено:
1. **Горизонтальные свайпы внутри баннеров** - для переключения между баннерами
2. **Свайп вправо с левого края** - для возврата на предыдущую страницу (как на iPhone)
3. **Вертикальные свайпы везде** - для скролла контента

### ❌ Заблокировано:
1. **Свайп влево с правого края** - предотвращает выход из Telegram приложения

## Зоны свайпов

```
┌─────────────────────────┐
│ [20px]                  │ ← Зона свайпа назад
│                         │
│    [Баннеры]            │ ← Свайпы разрешены
│                         │
│    [Контент]            │ ← Только вертикальный скролл
│                         │
│                  [20px] │ ← Зона блокировки выхода
└─────────────────────────┘
```

## Тестирование

### Проверить функциональность:
1. ✅ Свайп влево/вправо на баннерах - переключение баннеров
2. ✅ Свайп вправо с левого края - возврат на предыдущую страницу
3. ✅ Свайп влево с правого края - заблокирован (не выходит из приложения)
4. ✅ Вертикальный скролл - работает везде
5. ✅ Нижняя навигация - находится выше от края

### Проверить на устройствах:
1. ✅ iPhone с вырезом
2. ✅ iPhone без выреза
3. ✅ Android устройства
4. ✅ iPad и планшеты

## Файлы изменены

1. `src/hooks/useTelegramWebApp.ts` - логика обработки свайпов
2. `src/components/ui/banner-carousel.tsx` - добавлены атрибуты для карусели
3. `src/index.css` - опущена нижняя навигация

## Совместимость

- ✅ Работает в Telegram WebApp
- ✅ Не влияет на десктопную версию
- ✅ Поддержка всех современных браузеров
- ✅ Адаптивность для всех размеров экранов
