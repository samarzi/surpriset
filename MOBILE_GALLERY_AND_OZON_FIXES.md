# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–±–∏–ª—å–Ω–æ–π –≥–∞–ª–µ—Ä–µ–∏ –∏ —Ü–µ–Ω—ã Ozon ‚úÖ

## –î–∞—Ç–∞: 26 —è–Ω–≤–∞—Ä—è 2026

## –ü—Ä–æ–±–ª–µ–º—ã

### 1. ‚ùå –ú–æ–±–∏–ª—å–Ω–∞—è –≥–∞–ª–µ—Ä–µ—è - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–ø–∞–¥–∞–µ—Ç –ø—Ä–∏ –∫–ª–∏–∫–µ
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –æ–Ω–æ –ø—Ä–æ–ø–∞–¥–∞–ª–æ –≤–º–µ—Å—Ç–æ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø—Ä–µ–≤—å—é

### 2. ‚ùå –¶–µ–Ω–∞ —Å Ozon –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
**–ü—Ä–æ–±–ª–µ–º–∞**: –¶–µ–Ω–∞ –≤—Å–µ –µ—â–µ –∏–∑–≤–ª–µ–∫–∞–ª–∞—Å—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏–∑-–∑–∞ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö

## –†–µ—à–µ–Ω–∏—è

### 1. ‚úÖ Long Press –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–π –≥–∞–ª–µ—Ä–µ–∏

**–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è**:

#### –ú–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (touch):
- **–û–±—ã—á–Ω—ã–π –∫–ª–∏–∫ (tap)**: –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- **–î–æ–ª–≥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ (long press, 500ms)**: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- **–ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è**: –ü–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ long press –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–µ–Ω—é

#### –î–µ—Å–∫—Ç–æ–ø (mouse):
- **–ö–ª–∏–∫**: –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä
- **Hover**: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏**:

```typescript
// –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è long press
const [longPressedImage, setLongPressedImage] = useState<number | null>(null);

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ touch —Å–æ–±—ã—Ç–∏–π
const handleTouchStart = () => {
  longPressTimer = setTimeout(() => {
    setLongPressedImage(index); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏ —á–µ—Ä–µ–∑ 500ms
  }, 500);
};

const handleTouchEnd = () => {
  if (longPressTimer) {
    clearTimeout(longPressTimer);
  }
  
  // –ï—Å–ª–∏ –Ω–µ –±—ã–ª–æ long press, –æ—Ç–∫—Ä—ã–≤–∞–µ–º –ø—Ä–µ–≤—å—é
  if (!isLongPressed) {
    setPreviewImage(image);
  }
};

const handleTouchMove = () => {
  // –û—Ç–º–µ–Ω—è–µ–º long press –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ –ø–∞–ª—å—Ü–∞
  if (longPressTimer) {
    clearTimeout(longPressTimer);
  }
};
```

**–£—Å–ª–æ–≤–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫**:
```typescript
<div className={`absolute inset-0 bg-black/60 transition-opacity ${
  isLongPressed ? 'opacity-100' : 'opacity-0 md:group-hover:opacity-100'
}`}>
  {/* –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */}
</div>
```

**–ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö**:
```typescript
{isLongPressed && (
  <Button
    className="md:hidden absolute top-1 right-1"
    onClick={() => setLongPressedImage(null)}
  >
    <X />
  </Button>
)}
```

### 2. ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ü–µ–Ω—ã Ozon

**–§–∞–π–ª**: `parsers/ozon_simple.py`

**–ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã**:
1. –¶–µ–Ω–∞ –º–æ–≥–ª–∞ –±—ã—Ç—å –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö (—á–∏—Å–ª–æ, —Å—Ç—Ä–æ–∫–∞, –æ–±—ä–µ–∫—Ç)
2. –¶–µ–Ω–∞ –º–æ–≥–ª–∞ –±—ã—Ç—å –≤ –∫–æ–ø–µ–π–∫–∞—Ö –∏–ª–∏ —Ä—É–±–ª—è—Ö
3. –†–∞–∑–Ω—ã–µ –∫–ª—é—á–∏ –¥–ª—è —Ü–µ–Ω—ã –≤ JS –æ–±—ä–µ–∫—Ç–∞—Ö

**–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è**:

```python
# 1. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∫–ª—é—á–µ–π
price = js_data.get("price", 0)
if isinstance(price, dict):
    price = price.get("value", 0) or price.get("price", 0) or price.get("amount", 0)

# 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç—Ä–æ–∫–æ–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞
if isinstance(price, str):
    price_match = re.search(r'(\d+(?:\s?\d+)*)', price.replace(',', '').replace(' ', ''))
    if price_match:
        price = int(price_match.group(1))

# 3. –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∏–∑ –∫–æ–ø–µ–µ–∫ –≤ —Ä—É–±–ª–∏
if isinstance(price, (int, float)):
    if price > 1000:  # –ï—Å–ª–∏ –±–æ–ª—å—à–µ 1000, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –≤ –∫–æ–ø–µ–π–∫–∞—Ö
        price = price / 100
    result["price"] = float(price) if price > 0 else 0
```

**–û—Ç–ª–∞–¥–æ—á–Ω—ã–µ –ª–æ–≥–∏**:
```python
print(f"üîç Ozon price raw data: {price}, type: {type(price)}")
print(f"üîç Ozon price from dict: {price}")
print(f"üîç Ozon price from string: {price}")
print(f"üîç Ozon price converted from kopecks: {price}")
print(f"‚úÖ Ozon final price: {result['price']}")
```

**Fallback –Ω–∞ DOM**:
```python
# –ï—Å–ª–∏ JS –¥–∞–Ω–Ω—ã–µ –Ω–µ –¥–∞–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞, –ø—Ä–æ–±—É–µ–º DOM
if result["price"] == 0:
    # –ü—Ä–æ–±—É–µ–º —Ä–∞–∑–Ω—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã
    priceEl = document.querySelector('[data-widget="webPrice"]')
    if (!priceEl) priceEl = document.querySelector('.product-page__price')
    if (!priceEl) priceEl = document.querySelector('[class*="Price"]')
```

**–ê–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è —Å—Ç–∞—Ä–æ–π —Ü–µ–Ω—ã**:
```python
old_price = js_data.get("oldPrice", 0) or js_data.get("originalPrice", 0) or js_data.get("priceWithoutDiscount", 0)
# + —Ç–∞ –∂–µ –æ–±—Ä–∞–±–æ—Ç–∫–∞ (dict, string, kopecks)
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### üì± –ú–æ–±–∏–ª—å–Ω–∞—è –≥–∞–ª–µ—Ä–µ—è

**UX —É–ª—É—á—à–µ–Ω–∏—è**:
- ‚úÖ –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ (tap = –ø—Ä–æ—Å–º–æ—Ç—Ä, long press = —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
- ‚úÖ –ù–µ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ
- ‚úÖ –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –º–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ –û—Ç–º–µ–Ω–∞ long press –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ –ø–∞–ª—å—Ü–∞

**–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**:
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö touch —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- ‚úÖ –ù–µ –ª–æ–º–∞–µ—Ç –¥–µ—Å–∫—Ç–æ–ø–Ω—É—é –≤–µ—Ä—Å–∏—é (hover)
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –∫–Ω–æ–ø–æ–∫ (8x8px –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö)

### üí∞ –¶–µ–Ω–∞ Ozon

**–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**:
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö (—á–∏—Å–ª–æ, —Å—Ç—Ä–æ–∫–∞, –æ–±—ä–µ–∫—Ç)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∫–æ–ø–µ–µ–∫ –≤ —Ä—É–±–ª–∏
- ‚úÖ Fallback –Ω–∞ DOM –µ—Å–ª–∏ JS –¥–∞–Ω–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã
- ‚úÖ –û—Ç–ª–∞–¥–æ—á–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

**–ü–æ–∫—Ä—ã—Ç–∏–µ**:
- ‚úÖ –†–∞–∑–Ω—ã–µ –∫–ª—é—á–∏: `price`, `value`, `amount`
- ‚úÖ –°—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞: `oldPrice`, `originalPrice`, `priceWithoutDiscount`
- ‚úÖ –†–∞–∑–Ω—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã DOM

## Workflow –º–æ–±–∏–ª—å–Ω–æ–π –≥–∞–ª–µ—Ä–µ–∏

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å **—Ç–∞–ø–∞–µ—Ç** –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
2. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –ø–æ–ª–Ω–æ—Ä–∞–∑–º–µ—Ä–Ω—ã–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
3. –ú–æ–∂–Ω–æ –∑–∞–∫—Ä—ã—Ç—å –∫–ª–∏–∫–æ–º –≤–Ω–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–ª–∏ –∫–Ω–æ–ø–∫–æ–π X

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å **–∑–∞–∂–∏–º–∞–µ—Ç** –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (500ms)
2. –ü–æ—è–≤–ª—è—é—Ç—Å—è –∫–Ω–æ–ø–∫–∏: ‚Üë ‚Üì ‚úï –∏ –∫–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è
3. –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
4. –ö–Ω–æ–ø–∫–∞ X –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –º–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –û—Ç–º–µ–Ω–∞ long press:
- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞—á–∏–Ω–∞–µ—Ç –¥–≤–∏–≥–∞—Ç—å –ø–∞–ª—å—Ü–µ–º (—Å–∫—Ä–æ–ª–ª), long press –æ—Ç–º–µ–Ω—è–µ—Ç—Å—è
- –¢–∞–π–º–µ—Ä —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—Ç–ø—É—Å–∫–∞–Ω–∏–∏ –ø–∞–ª—å—Ü–∞

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ú–æ–±–∏–ª—å–Ω–∞—è –≥–∞–ª–µ—Ä–µ—è:
1. ‚úÖ Tap –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–µ–≤—å—é
2. ‚úÖ Long press –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–Ω–æ–ø–∫–∏
3. ‚úÖ –î–≤–∏–∂–µ–Ω–∏–µ –ø–∞–ª—å—Ü–∞ –æ—Ç–º–µ–Ω—è–µ—Ç long press
4. ‚úÖ –ö–Ω–æ–ø–∫–∞ X –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –º–µ–Ω—é
5. ‚úÖ –î–µ—Å–∫—Ç–æ–ø hover —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ

### –¶–µ–Ω–∞ Ozon:
1. ‚úÖ –ò–º–ø–æ—Ä—Ç —Ç–æ–≤–∞—Ä–∞ —Å —Ü–µ–Ω–æ–π –≤ —Ä—É–±–ª—è—Ö
2. ‚úÖ –ò–º–ø–æ—Ä—Ç —Ç–æ–≤–∞—Ä–∞ —Å —Ü–µ–Ω–æ–π –≤ –∫–æ–ø–µ–π–∫–∞—Ö
3. ‚úÖ –ò–º–ø–æ—Ä—Ç —Ç–æ–≤–∞—Ä–∞ —Å–æ —Å—Ç–∞—Ä–æ–π —Ü–µ–Ω–æ–π
4. ‚úÖ –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø—Ä–æ—Ü–µ—Å—Å –∏–∑–≤–ª–µ—á–µ–Ω–∏—è
5. ‚úÖ Fallback –Ω–∞ DOM —Ä–∞–±–æ—Ç–∞–µ—Ç

## –°–±–æ—Ä–∫–∞
```bash
npm run build
‚úì built in 6.79s
```

## –°—Ç–∞—Ç—É—Å: ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
–û–±–µ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã.
